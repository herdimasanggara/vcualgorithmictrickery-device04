<!DOCTYPE html>
<html>
<head>
<title>Shake for a Joke</title>
<style>
    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      background-color: blue;
      font-family: Arial, sans-serif;
      padding: 10px; /* Added padding to prevent text touching the edges */
      overflow: hidden;
    }
    #joke {
      padding: 20px;
      border: 21px dotted white;
      color: white;
      display: inline-block;
      /* Set font size relative to viewport width with a minimum and a maximum size */
      font-size: min(max(4vw, 24px), 48px);
      box-sizing: border-box; /* Ensures padding and border are included in the width */
      word-wrap: break-word; /* Ensures long words will wrap and not extend outside the container */
      max-width: 100%; /* Ensures the element doesn't extend beyond the viewport width */
    }
  </style>
</head>
<body>
<div id="joke">Shake your device to display a joke here...</div>

<script>
const jokes = [
"What do you call fake spaghetti? An impasta!",
  "Why did the scarecrow win an award? Because he was outstanding in his field!",
  "I'm reading a book on anti-gravity. It's impossible to put down!",
  "Did you hear about the mathematician who's afraid of negative numbers? He'll stop at nothing to avoid them!",
  "Why don't scientists trust atoms? Because they make up everything!",
  "I told my computer I needed a break, and now it won't stop sending me Kit-Kats!",
  "Why can't you give Elsa a balloon? Because she will let it go!",
  "I used to play piano by ear, but now I use my hands.",
  "I'm on a seafood diet. I see food and I eat it.",
  "Why don't some couples go to the gym? Because some relationships don't work out!"
];

let lastAcceleration = {x: null, y: null, z: null};

function shakeEvent(acceleration) {
  const threshold = 15;
  let shakes = 0;
  
  if (lastAcceleration.x !== null) {
    shakes += Math.abs(lastAcceleration.x - acceleration.x) > threshold ? 1 : 0;
    shakes += Math.abs(lastAcceleration.y - acceleration.y) > threshold ? 1 : 0;
    shakes += Math.abs(lastAcceleration.z - acceleration.z) > threshold ? 1 : 0;
  }

  if (shakes >= 2) {
    const joke = jokes[Math.floor(Math.random() * jokes.length)];
    document.getElementById('joke').innerText = joke;
  }

  lastAcceleration = {
    x: acceleration.x,
    y: acceleration.y,
    z: acceleration.z
  };
}

if (window.DeviceMotionEvent) {
  window.addEventListener('devicemotion', function(event) {
    shakeEvent(event.acceleration);
  });
} else {
  document.getElementById('joke').innerText = "Unfortunately, your device doesn't support shaking for jokes.";
}
</script>

</body>
</html>
